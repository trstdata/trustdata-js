var t;t=()=>{return t={158(t){!function(window,document){window._trdt_uat=window._trdt_uat||{},window._trdt_uat_queue=window._trdt_uat_queue||[],window._trdt_uat_ready=!1;const CONFIG={version:'3.0.4',debug:!1,endpoint:'https://t.trstdata.com/api/events',t:30,i:!1,attributionIds:[],o:'',u:!0,_:[]},STATE={l:null,p:null,sessionId:null,v:0,m:!1,h:!1,k:!1,S:!1,O:{analytics:!1,advertising:!1,personalization:!1},j:{},T:new Set};function e(){return Math.floor(Date.now()/1e3)}function n(t){try{return new URL(t||'').hostname}catch(e){return''}}const r={I:consentStatus=>!0===consentStatus.analytics,R(t,e){if(!e||void 0===document){return null}const n=t+'=',r=document.cookie.split(';');for(let i=0;r.length>i;i++){let t=r[i];for(;' '===t.charAt(0);){t=t.substring(1,t.length)}if(0===t.indexOf(n)){return decodeURIComponent(t.substring(n.length,t.length))}}return null},A(t,e,n,r,i,o){if(!r||void 0===document){return}let a='';if(n){const t=new Date;t.setTime(t.getTime()+24*n*60*60*1e3),a='; expires='+t.toUTCString()}const s=i?'; domain='+i:'',c=o?'; Secure':'';document.cookie=t+'='+encodeURIComponent(e)+a+s+'; path=/; SameSite=Lax'+c},C(t,e){if(!e){return null}try{return localStorage.getItem(t)}catch(n){return null}},L(t,e,n){if(n){try{localStorage.setItem(t,e)}catch(r){}}}},i={process(){if(!window._trdt_uat_queue||!window._trdt_uat_queue.length){return}const t={consent:1,config:2,set:3,event:4,get:5},e=window._trdt_uat_queue.slice();window._trdt_uat_queue.length=0,e.sort(((e,n)=>(t[Array.isArray(e)?e[0]:'U']||999)-(t[Array.isArray(n)?n[0]:'U']||999))),e.forEach((t=>{if(Array.isArray(t)){try{const e=t[0],n=t.slice(1);API[e]&&API[e].apply(API,n)}catch(e){}}}))},add(t){return window._trdt_uat_queue.push(t),window._trdt_uat_ready&&t&&t.length>0&&setTimeout(this.process,0),!0}};async function o(t){const r={},i={...t},o=i.event_name;delete i.event_name;const a={attribution_id:CONFIG.attributionIds,client_id:STATE.l,N:STATE.sessionId,P:STATE.v,V:STATE.m?1:0,D:e()};STATE.p&&(a.M=STATE.p),Object.entries(a).forEach((([t,e])=>{i.hasOwnProperty(t)||(r[t]=e)})),STATE.h&&!i.J&&(r.J=1),STATE.k&&!i.F&&(r.F=1);const s=n(window.location.href),c=n(document.referrer);if(c&&CONFIG._.includes(c)&&(STATE.S=!0),STATE.j.q){const t=n(STATE.j.q);s&&t&&s===t&&(STATE.S=!0)}STATE.S&&!i.B&&(r.B=!0),STATE.S||!document.referrer||STATE.j.q||i.q||(r.q=document.referrer);try{const t=new URLSearchParams(window.location.search);['utm_source','utm_medium','utm_campaign','utm_term','utm_content','trdt_cpid','trdt_agid','trdt_kwid','trdt_ctid'].forEach((e=>{const n=t.get(e);n&&!i[e]&&(r[e]=n)}))}catch(u){}if(!(STATE.j.q||STATE.j.H||STATE.j.X||i.q||i.H||i.X)){const t={H:document.location.href,X:document.title,lang:(navigator&&(navigator.language||navigator.browserLanguage)||'').toLowerCase(),G:(window.screen?window.screen.width:0)+'x'+(window.screen?window.screen.height:0)};Object.entries(t).forEach((([t,e])=>{i[t]||(r[t]=e)}))}Object.entries(STATE.j).forEach((([t,e])=>{i[t]||void 0!==r[t]||(r[t]=e)})),i.K||(r.K=STATE.O.analytics),i.W||(r.W=STATE.O.advertising),i.Y||(r.Y=STATE.O.personalization);try{const t=await(void 0!==window&&'navigator'in window&&navigator?.userAgentData?.getHighEntropyValues?navigator.userAgentData.getHighEntropyValues(['platform','platformVersion','architecture','model','uaFullVersion','bitness','fullVersionList','wow64']).then((t=>({Z:t.architecture,$:t.bitness,tt:encodeURIComponent((Object.values(t.fullVersionList)||navigator?.userAgentData?.brands).map((t=>[t.brand,t.version].join(';'))).join('|')),et:t.mobile?1:0,nt:t.model||navigator?.userAgentData?.mobile,rt:t.platform||navigator?.userAgentData?.platform,it:t.platformVersion,ot:t.wow64?1:0}))).catch((()=>null)):Promise.resolve(null));t&&Object.entries(t).forEach((([t,e])=>{i[t]||void 0!==r[t]||(r[t]=e)}))}catch(u){}return Object.entries(i).forEach((([t,e])=>r[t]=e)),o&&(r.event_name=o),r}function a(t,e){if('function'!=typeof navigator.sendBeacon){return!1}try{return navigator.sendBeacon(t,new Blob([JSON.stringify(e)],{type:'text/plain'}))}catch(n){return!1}}const API={config(t,n={}){return t&&!CONFIG.attributionIds.includes(t)&&CONFIG.attributionIds.push(t),n._&&(CONFIG._=Array.isArray(n._)?n._:[n._]),Object.keys(n).forEach((t=>{t in CONFIG&&(CONFIG[t]=n[t])})),n.consent&&this.consent('update',{consent:n.consent}),((t={})=>{const n=r.I(STATE.O),i=t.client_id||r.R('_t_cid',n)||r.C('_t_cid',n),o=r.R('_t_fv',n)||r.C('_t_fv',n);if(i?(STATE.l=i,STATE.k=!o):(STATE.l=Math.floor(2147483647*Math.random())+'.'+e(),STATE.k=!0,n&&(r.A('_t_cid',STATE.l,365,n,CONFIG.o,CONFIG.u),r.L('_t_cid',STATE.l,n))),STATE.k&&n){const t=""+e();r.A('_t_fv',t,365,n,CONFIG.o,CONFIG.u),r.L('_t_fv',t,n)}})(n),(()=>{const t=e(),n=r.I(STATE.O);if(n){const e=r.R('_t_sid',n),o=r.C('_t_sn',n),a=r.R('_t_last',n);if(STATE.v=STATE.k?1:parseInt(o||'1'),!e||t-parseInt(a||'0')>60*CONFIG.t){STATE.sessionId=t,STATE.k||STATE.v++,STATE.m=!1,STATE.h=!0;try{r.L('_t_sn',""+STATE.v,n),r.A('_t_sid',""+STATE.sessionId,0,n,CONFIG.o,CONFIG.u),r.A('_t_last',""+t,0,n,CONFIG.o,CONFIG.u)}catch(i){}}else{STATE.sessionId=parseInt(e),STATE.m=!0,STATE.h=!1;try{r.A('_t_last',""+t,0,n,CONFIG.o,CONFIG.u)}catch(i){}}}else{STATE.sessionId=t,STATE.v=1,STATE.m=!1,STATE.h=!0}})(),t&&STATE.T.add(t),CONFIG.i||(CONFIG.i=!0,window._trdt_uat_ready=!0,setTimeout(i.process,0)),!1!==n.st&&setTimeout((()=>this.event('page_view',{ct:t})),0),!0},set(t,e){if('object'==typeof t){return Object.entries(t).forEach((([t,e])=>this.set(t,e))),!0}e=((t,e=100)=>{if(null==t){return t}if('function'==typeof t){try{t=t()}catch(n){return null}}return'string'==typeof t?t.substring(0,e):t})(e,100);const n=r.I(STATE.O);switch(t){case'user_id':STATE.p=e,n&&(r.A('_t_uid',e,365,n,CONFIG.o,CONFIG.u),r.L('_t_uid',e,n));break;case'client_id':STATE.l=e,n&&(r.A('_t_cid',e,365,n,CONFIG.o,CONFIG.u),r.L('_t_cid',e,n));break;case'debug_mode':CONFIG.debug=!0===e||'true'===e;break;case'page_referrer':case'page_loc':case'page_tit':case'ignore_referrer':STATE.j[t]=e,'ignore_referrer'===t&&(STATE.S=!0===e||'true'===e);break;default:STATE.j[t]=e}return!0},async event(t,n={}){if(!t){return!1}if(!CONFIG.i){return i.add(['event',t,n])}STATE.m=!0,n.hasOwnProperty('ignore_referrer')?(STATE.S=!0===n.B,delete n.B):STATE.S=!1,['page_referrer','page_loc','page_tit'].forEach((t=>{n.hasOwnProperty(t)&&(STATE.j[t]=n[t],delete n[t])}));let s=CONFIG.attributionIds;n.ct&&(s=Array.isArray(n.ct)?n.ct:[n.ct],delete n.ct);let c=s.filter((t=>STATE.T.has(t)));0===c.length&&CONFIG.attributionIds.length>0&&(c=[CONFIG.attributionIds[0]]);const u=STATE.k,_=STATE.h,d={...n,event_name:t},f=await o(d);c.forEach((t=>{const e={...f,attribution_id:t};((t,e,n)=>{try{if(window.fetch){fetch(t,{method:'POST',headers:{ut:'text/plain'},keepalive:!0,body:JSON.stringify(e)}).then((t=>{n&&n._t&&n._t({status:t.status})})).catch((n=>{'function'==typeof navigator.sendBeacon&&a(t,{...e,dt:!0})}))}else{var r=new XMLHttpRequest;r.open('POST',t,!0),r.setRequestHeader('Content-Type','text/plain'),r.send(JSON.stringify(e)),r.onreadystatechange=()=>{4===r.readyState&&n&&n._t&&n._t({status:r.status})}}}catch(i){'function'==typeof navigator.sendBeacon&&a(t,{...e,dt:!0})}})(CONFIG.endpoint,e,{_t(t){}})})),u&&(STATE.k=!1),_&&(STATE.h=!1);const l=r.I(STATE.O);if(l){try{r.A('_t_last',""+e(),0,l,CONFIG.o,CONFIG.u)}catch(g){}}return!0},consent(t,e){if(!e||!e.hasOwnProperty('consent')){return!1}const n=e.consent;return'analytics'in n&&(STATE.O.analytics=!0===n.analytics||'granted'===n.analytics),'advertising'in n&&(STATE.O.advertising=!0===n.advertising||'granted'===n.advertising),'personalization'in n&&(STATE.O.personalization=!0===n.personalization||'granted'===n.personalization),!0},get(t,e,n){let r;switch(e){case'client_id':r=STATE.l;break;case'user_id':r=STATE.p;break;case'session_id':r=STATE.sessionId;break;case'consent_status':r={...STATE.O};break;case'debug_mode':r=CONFIG.debug;break;default:r=STATE.j[e]}return'function'==typeof n&&n(r),r}},s=[].push;window._trdt_uat_queue.push=function(){const t=s.apply(this,arguments);return window._trdt_uat_ready&&setTimeout(i.process,0),t},window._trdt_uat=Object.assign((function(){const t=Array.from(arguments);if(0===t.length){return window._trdt_uat}if(CONFIG.i&&'string'==typeof t[0]&&API[t[0]]){const e=t.shift();return API[e].apply(API,t)}return i.add(t)}),API),window.ft=window.ft||function(){const t=Array.from(arguments);if(window._trdt_uat_ready&&'string'==typeof t[0]&&API[t[0]]){const e=t.shift();return API[e].apply(API,t)}return i.add(t)},setTimeout((()=>{window._trdt_uat_queue&&window._trdt_uat_queue.length>0&&i.process()}),0),'function'==typeof navigator.sendBeacon&&window.addEventListener('beforeunload',(()=>{CONFIG.i&&window._trdt_uat_queue&&window._trdt_uat_queue.length>0&&window._trdt_uat_queue.forEach((t=>{'event'===t[0]&&o({...t[2]||{},event_name:t[1]}).then((t=>{CONFIG.attributionIds.forEach((e=>{a(CONFIG.endpoint,{...t,attribution_id:e})}))}))}))})),t.exports&&(t.exports=window._trdt_uat)}(window,document)}},e={},function n(r){var i=e[r];if(void 0!==i){return i.exports}var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(158).default;var t,e},'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.lt=t():this.lt=t();